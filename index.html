<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>T·∫øt 2026</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root { --bg:#0f1724; --card:#0b1220; --accent:#f59e0b; --muted:#9aa4b2; color-scheme: dark; }

    body{
      margin:0;
      font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background:linear-gradient(180deg,#071029 0%, #091426 100%);
      color:#e6eef8;
      display:flex;
      min-height:100vh;
      align-items:center;
      justify-content:center;
      padding:24px;
      overflow-x:hidden;
    }

    .wrap{
      max-width:860px;
      width:100%;
      display:grid;
      gap:18px;
      grid-template-columns:1fr 1fr;
      box-sizing:border-box;
    }

    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.04);
      padding:20px;
      border-radius:12px;
      box-shadow:0 6px 30px rgba(2,6,23,0.6);
    }

    h1{font-size:18px;margin:0 0 8px 0}

    .big{
      font-size:40px;
      font-weight:700;
      color:var(--accent);
      letter-spacing:-1px
    }

    .small{font-size:13px;color:var(--muted)}

    .units{
      display:flex;
      gap:8px;
      margin-top:12px;
      flex-wrap:wrap;
      justify-content:space-between;
    }

    .unit{
      background:rgba(255,255,255,0.03);
      padding:12px;
      border-radius:8px;
      min-width:64px;
      text-align:center;
      flex:1;
    }

    .unit .n{font-size:20px;font-weight:700}

    .controls{
      grid-column:1/-1;
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      margin-top:6px;
      flex-wrap:wrap;
    }

    .input-row{
      display:flex;
      gap:8px;
      align-items:center;
      flex-wrap:wrap;
    }

    input[type=date]{
      padding:8px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.06);
      background:transparent;
      color:inherit;
    }

    button{
      padding:8px 12px;
      border-radius:8px;
      border:none;
      background:var(--accent);
      color:#071026;
      font-weight:700;
      cursor:pointer;
    }

    footer{
      grid-column:1/-1;
      color:var(--muted);
      font-size:13px;
      text-align:center;
      padding-top:6px;
    }

    /* --- TOAST --- */
    .toast {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%) translateY(20px);
      background: rgba(0,0,0,0.8);
      color: #fff;
      padding: 12px 18px;
      border-radius: 10px;
      font-size: 14px;
      opacity: 0;
      pointer-events: none;
      transition: 0.3s ease;
      z-index: 9999;
    }

    .toast.show {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    @media (max-width:820px){
      .wrap{ grid-template-columns:1fr; }
      .big{ font-size:32px; }

      .controls{
        flex-direction:column;
        align-items:stretch;
        gap:12px;
      }

      .input-row{
        width:100%;
        flex-direction:column;
        align-items:flex-start;
        gap:10px;
      }

      input[type=date], button{
        width:100%;
      }
    }
  </style>
</head>

<body>
  <div class="wrap">

    <div class="card" id="card-solar">
      <h1>T·∫øt D∆∞∆°ng ‚Äî <span class="small">1/1 (m·ªói nƒÉm)</span></h1>
      <div class="big" id="solar-count">-- ng√†y</div>

      <div class="units">
        <div class="unit"><div class="n" id="s-days">--</div><div class="small">Ng√†y</div></div>
        <div class="unit"><div class="n" id="s-hours">--</div><div class="small">Gi·ªù</div></div>
        <div class="unit"><div class="n" id="s-mins">--</div><div class="small">Ph√∫t</div></div>
        <div class="unit"><div class="n" id="s-secs">--</div><div class="small">Gi√¢y</div></div>
      </div>
    </div>

    <div class="card" id="card-lunar">
      <h1>T·∫øt √Çm ‚Äî <span class="small" id="lunar-label">17/2/2026 (m·∫∑c ƒë·ªãnh)</span></h1>
      <div class="big" id="lunar-count">-- ng√†y</div>

      <div class="units">
        <div class="unit"><div class="n" id="l-days">--</div><div class="small">Ng√†y</div></div>
        <div class="unit"><div class="n" id="l-hours">--</div><div class="small">Gi·ªù</div></div>
        <div class="unit"><div class="n" id="l-mins">--</div><div class="small">Ph√∫t</div></div>
        <div class="unit"><div class="n" id="l-secs">--</div><div class="small">Gi√¢y</div></div>
      </div>
    </div>

    <div class="controls">
      <div class="input-row">
        <label class="small">T√πy ch·ªânh ng√†y T·∫øt √Çm:</label>
        <input type="date" id="lunar-date" />
        <button id="set-lunar">C·∫≠p nh·∫≠t</button>
        <button id="reset-lunar">Reset m·∫∑c ƒë·ªãnh</button>
      </div>

      <button id="copy-btn">Sao ch√©p th·ªùi gian</button>
    </div>

    <footer>¬© L√™ Th·ªã Ng·ªçc Dung</footer>
  </div>

  <!-- Toast element -->
  <div id="toast" class="toast"></div>

<script>
  const lunarDefault = "2026-02-17";
  const solarMonth = 0, solarDay = 1;

  const el = id => document.getElementById(id);

  const savedLunar = localStorage.getItem("lunar-date");
  let lunarTarget = savedLunar ? new Date(savedLunar) : new Date(lunarDefault);

  function showToast(msg){
    const t = el("toast");
    t.textContent = msg;
    t.classList.add("show");
    setTimeout(() => t.classList.remove("show"), 2200);
  }

  function nextSolarDate(now){
    let y = now.getFullYear();
    let t = new Date(y, solarMonth, solarDay);
    if (t <= now) t = new Date(y+1, solarMonth, solarDay);
    return t;
  }

  function parseDateInput(s){
    const p = s.split("-");
    return new Date(p[0], p[1]-1, p[2]);
  }

  function updateCountdown(target, prefix){
    const now = new Date();
    let diff = Math.max(0, target - now);

    const d = Math.floor(diff / 86400000);
    diff -= d * 86400000;

    const h = Math.floor(diff / 3600000);
    diff -= h * 3600000;

    const m = Math.floor(diff / 60000);
    diff -= m * 60000;

    const s = Math.floor(diff / 1000);

    el(prefix+"-days").textContent = d;
    el(prefix+"-hours").textContent = String(h).padStart(2,'0');
    el(prefix+"-mins").textContent = String(m).padStart(2,'0');
    el(prefix+"-secs").textContent = String(s).padStart(2,'0');

    el(prefix === "s" ? "solar-count" : "lunar-count").textContent =
      `${d} ng√†y ${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
  }

  function tick(){
    const now = new Date();
    updateCountdown(nextSolarDate(now), "s");
    updateCountdown(lunarTarget, "l");
  }

  el("set-lunar").addEventListener("click", () => {
    const val = el("lunar-date").value;
    if (!val){
      showToast("Ch·ªçn ng√†y r·ªìi c·∫≠p nh·∫≠t nha");
      return;
    }

    lunarTarget = parseDateInput(val);
    localStorage.setItem("lunar-date", val);

    el("lunar-label").textContent = new Date(val).toLocaleDateString();
    showToast("ƒê√£ c·∫≠p nh·∫≠t ng√†y T·∫øt √Çm üéâ");
    tick();
  });

  el("reset-lunar").addEventListener("click", () => {
    lunarTarget = new Date(lunarDefault);
    localStorage.removeItem("lunar-date");

    el("lunar-date").value = "";
    el("lunar-label").textContent = new Date(lunarDefault).toLocaleDateString();
    showToast("Reset v·ªÅ m·∫∑c ƒë·ªãnh ‚úîÔ∏è");
    tick();
  });

  el("copy-btn").addEventListener("click", () => {
    const text =
      "C√≤n: " + el("solar-count").textContent + " t·ªõi T·∫øt D∆∞∆°ng; " +
      el("lunar-count").textContent + " t·ªõi T·∫øt √Çm.";

    if (navigator.clipboard?.writeText) {
      navigator.clipboard.writeText(text).then(
        () => showToast("ƒê√£ sao ch√©p ‚úîÔ∏è"),
        () => fallbackCopy(text)
      );
    } else fallbackCopy(text);
  });

  function fallbackCopy(text){
    const ta = document.createElement("textarea");
    ta.value = text;
    document.body.appendChild(ta);
    ta.select();
    document.execCommand("copy");
    document.body.removeChild(ta);
    showToast("Sao ch√©p (fallback) ‚úîÔ∏è");
  }

  el("lunar-label").textContent =
    (savedLunar ? new Date(savedLunar) : new Date(lunarDefault)).toLocaleDateString();

  tick();
  setInterval(tick, 1000);
</script>

</body>
</html>
